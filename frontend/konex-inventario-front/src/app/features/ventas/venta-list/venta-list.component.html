<h2 class="mb-3">Ventas</h2>

<div class="flex gap-3 mb-3 align-items-end flex-wrap">
  <div>
    <label class="block mb-1">Fecha inicio</label>
    <p-datepicker
      [(ngModel)]="fechaInicio"
      dateFormat="yy-mm-dd"
    ></p-datepicker>
  </div>

  <div>
    <label class="block mb-1">Fecha fin</label>
    <p-datepicker
      [(ngModel)]="fechaFin"
      dateFormat="yy-mm-dd"
    ></p-datepicker>
  </div>

  <div>
    <button pButton label="Buscar" icon="pi pi-search" (click)="buscar()"></button>
  </div>
</div>

<p-table
  [value]="ventas"
  [paginator]="false"
  [rows]="pageSize"
  [loading]="loading"
  responsiveLayout="scroll"
>
  <ng-template pTemplate="header">
    <tr>
      <th>Fecha y hora</th>
      <th>Medicamento</th>
      <th>Cantidad</th>
      <th>Valor unitario</th>
      <th>Valor total</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-v>
    <tr>
      <td>{{ v.fechaHora | date:'short' }}</td>
      <td>{{ v.medicamentoNombre }}</td>
      <td>{{ v.cantidad }}</td>
      <td>{{ v.valorUnitario | currency:'COP':'symbol-narrow' }}</td>
      <td>{{ v.valorTotal | currency:'COP':'symbol-narrow' }}</td>
    </tr>
  </ng-template>
</p-table>

<p-paginator
  [rows]="pageSize"
  [totalRecords]="totalElements"
  [first]="page * pageSize"
  (onPageChange)="onPageChange($event)"
  class="mt-3"
></p-paginator>
